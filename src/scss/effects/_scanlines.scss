// ============================================================
// Scanlines Effect - CRT monitor scanline overlay
// ============================================================

@layer components {
  .cyber-scanlines {
    position: fixed;
    z-index: 9998;
    opacity: var(--scanline-opacity, 4%);
    pointer-events: none;
    inset: 0;

    &::before {
      content: '';
      position: absolute;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 1px,
        rgb(0 0 0 / 30%) 1px,
        rgb(0 0 0 / 30%) 2px
      );
      background-size: 100% 2px;
      inset: 0;
    }

    // Finer scanlines variant
    &--fine::before {
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 0.5px,
        rgb(0 0 0 / 20%) 0.5px,
        rgb(0 0 0 / 20%) 1px
      );
      background-size: 100% 1px;
    }

    // Thicker, more visible scanlines
    &--heavy::before {
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgb(0 0 0 / 40%) 2px,
        rgb(0 0 0 / 40%) 4px
      );
      background-size: 100% 4px;
    }

    // Animated flickering scanlines
    &--flicker::before {
      animation: cyber-scanline-flicker 0.15s infinite;
    }

    // Scrolling scanlines effect
    &--scroll::before {
      animation: cyber-scanline-scroll 8s linear infinite;
    }
  }

  @keyframes cyber-scanline-flicker {
    0%,
    100% {
      opacity: 100%;
    }

    50% {
      opacity: 98%;
    }
  }

  @keyframes cyber-scanline-scroll {
    0% {
      background-position: 0 0;
    }

    100% {
      background-position: 0 100%;
    }
  }

  // Respect reduced motion preference
  @media (prefers-reduced-motion: reduce) {
    .cyber-scanlines--flicker::before,
    .cyber-scanlines--scroll::before {
      animation: none;
    }
  }
}
